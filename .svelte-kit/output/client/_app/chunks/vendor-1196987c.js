function H(){}function Me(e,t){for(const n in t)e[n]=t[n];return e}function ne(e){return e()}function re(){return Object.create(null)}function rt(e){e.forEach(ne)}function Ce(e){return typeof e=="function"}function Fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Be(e){return Object.keys(e).length===0}function ze(e,...t){if(e==null)return H;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Zn(e,t,n){e.$$.on_destroy.push(ze(t,n))}function tr(e,t,n,r){if(e){const i=ie(e,t,n,r);return e[0](i)}}function ie(e,t,n,r){return e[1]&&r?Me(n.ctx.slice(),e[1](r(t))):n.ctx}function er(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const a=[],o=Math.max(t.dirty.length,i.length);for(let u=0;u<o;u+=1)a[u]=t.dirty[u]|i[u];return a}return t.dirty|i}return t.dirty}function nr(e,t,n,r,i,a){if(i){const o=ie(t,n,r,a);e.p(o,i)}}function rr(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}let yt=!1;function Ue(){yt=!0}function ke(){yt=!1}function Je(e,t,n,r){for(;e<t;){const i=e+(t-e>>1);n(i)<=r?e=i+1:t=i}return e}function qe(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const s=[];for(let f=0;f<t.length;f++){const l=t[f];l.claim_order!==void 0&&s.push(l)}t=s}const n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let i=0;for(let s=0;s<t.length;s++){const f=t[s].claim_order,l=(i>0&&t[n[i]].claim_order<=f?i+1:Je(1,i,c=>t[n[c]].claim_order,f))-1;r[s]=n[l]+1;const h=l+1;n[h]=s,i=Math.max(h,i)}const a=[],o=[];let u=t.length-1;for(let s=n[i]+1;s!=0;s=r[s-1]){for(a.push(t[s-1]);u>=s;u--)o.push(t[u]);u--}for(;u>=0;u--)o.push(t[u]);a.reverse(),o.sort((s,f)=>s.claim_order-f.claim_order);for(let s=0,f=0;s<o.length;s++){for(;f<a.length&&o[s].claim_order>=a[f].claim_order;)f++;const l=f<a.length?a[f]:null;e.insertBefore(o[s],l)}}function Ge(e,t){if(yt){for(qe(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function ir(e,t,n){yt&&!n?Ge(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function Xe(e){e.parentNode.removeChild(e)}function Ye(e){return document.createElement(e)}function $t(e){return document.createTextNode(e)}function ar(){return $t(" ")}function or(){return $t("")}function sr(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ur(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function He(e){return Array.from(e.childNodes)}function We(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function ae(e,t,n,r,i=!1){We(e);const a=(()=>{for(let o=e.claim_info.last_index;o<e.length;o++){const u=e[o];if(t(u)){const s=n(u);return s===void 0?e.splice(o,1):e[o]=s,i||(e.claim_info.last_index=o),u}}for(let o=e.claim_info.last_index-1;o>=0;o--){const u=e[o];if(t(u)){const s=n(u);return s===void 0?e.splice(o,1):e[o]=s,i?s===void 0&&e.claim_info.last_index--:e.claim_info.last_index=o,u}}return r()})();return a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,a}function Ve(e,t,n,r){return ae(e,i=>i.nodeName===t,i=>{const a=[];for(let o=0;o<i.attributes.length;o++){const u=i.attributes[o];n[u.name]||a.push(u.name)}a.forEach(o=>i.removeAttribute(o))},()=>r(t))}function fr(e,t,n){return Ve(e,t,n,Ye)}function Ke(e,t){return ae(e,n=>n.nodeType===3,n=>{const r=""+t;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>$t(t),!0)}function cr(e){return Ke(e," ")}function lr(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let gt;function mt(e){gt=e}function Rt(){if(!gt)throw new Error("Function called outside component initialization");return gt}function hr(e){Rt().$$.on_mount.push(e)}function dr(e){Rt().$$.after_update.push(e)}function vr(e,t){Rt().$$.context.set(e,t)}const it=[],oe=[],xt=[],se=[],Qe=Promise.resolve();let Mt=!1;function Ze(){Mt||(Mt=!0,Qe.then(ue))}function Ct(e){xt.push(e)}let Ft=!1;const Bt=new Set;function ue(){if(!Ft){Ft=!0;do{for(let e=0;e<it.length;e+=1){const t=it[e];mt(t),tn(t.$$)}for(mt(null),it.length=0;oe.length;)oe.pop()();for(let e=0;e<xt.length;e+=1){const t=xt[e];Bt.has(t)||(Bt.add(t),t())}xt.length=0}while(it.length);for(;se.length;)se.pop()();Mt=!1,Ft=!1,Bt.clear()}}function tn(e){if(e.fragment!==null){e.update(),rt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ct)}}const wt=new Set;let q;function pr(){q={r:0,c:[],p:q}}function yr(){q.r||rt(q.c),q=q.p}function en(e,t){e&&e.i&&(wt.delete(e),e.i(t))}function gr(e,t,n,r){if(e&&e.o){if(wt.has(e))return;wt.add(e),q.c.push(()=>{wt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function mr(e,t){const n={},r={},i={$$scope:1};let a=e.length;for(;a--;){const o=e[a],u=t[a];if(u){for(const s in o)s in u||(r[s]=1);for(const s in u)i[s]||(n[s]=u[s],i[s]=1);e[a]=u}else for(const s in o)i[s]=1}for(const o in r)o in n||(n[o]=void 0);return n}function xr(e){return typeof e=="object"&&e!==null?e:{}}function wr(e){e&&e.c()}function Sr(e,t){e&&e.l(t)}function nn(e,t,n,r){const{fragment:i,on_mount:a,on_destroy:o,after_update:u}=e.$$;i&&i.m(t,n),r||Ct(()=>{const s=a.map(ne).filter(Ce);o?o.push(...s):rt(s),e.$$.on_mount=[]}),u.forEach(Ct)}function rn(e,t){const n=e.$$;n.fragment!==null&&(rt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function an(e,t){e.$$.dirty[0]===-1&&(it.push(e),Ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function br(e,t,n,r,i,a,o,u=[-1]){const s=gt;mt(e);const f=e.$$={fragment:null,ctx:null,props:a,update:H,not_equal:i,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:t.context||[]),callbacks:re(),dirty:u,skip_bound:!1,root:t.target||s.$$.root};o&&o(f.root);let l=!1;if(f.ctx=n?n(e,t.props||{},(h,c,...v)=>{const y=v.length?v[0]:c;return f.ctx&&i(f.ctx[h],f.ctx[h]=y)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](y),l&&an(e,h)),c}):[],f.update(),l=!0,rt(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){Ue();const h=He(t.target);f.fragment&&f.fragment.l(h),h.forEach(Xe)}else f.fragment&&f.fragment.c();t.intro&&en(e.$$.fragment),nn(e,t.target,t.anchor,t.customElement),ke(),ue()}mt(s)}class _r{$destroy(){rn(this,1),this.$destroy=H}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const W=[];function Er(e,t=H){let n;const r=new Set;function i(u){if(Fe(e,u)&&(e=u,n)){const s=!W.length;for(const f of r)f[1](),W.push(f,e);if(s){for(let f=0;f<W.length;f+=2)W[f][0](W[f+1]);W.length=0}}}function a(u){i(u(e))}function o(u,s=H){const f=[u,s];return r.add(f),r.size===1&&(n=t(i)||H),u(e),()=>{r.delete(f),r.size===0&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(){return d=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},d.apply(this,arguments)};function zt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function R(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var fe=".",ce={},Ut="xstate.guard",on="",at=!0;function L(e){return Object.keys(e)}function kt(e,t,n){n===void 0&&(n=fe);var r=ot(e,n),i=ot(t,n);return E(i)?E(r)?i===r:!1:E(r)?r in i:L(r).every(function(a){return a in i?kt(r[a],i[a]):!1})}function le(e){try{return E(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Jt(e,t){try{return V(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function sn(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function ot(e,t){if(sn(e))return e.value;if(V(e))return St(e);if(typeof e!="string")return e;var n=Jt(e,t);return St(n)}function St(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function st(e,t){for(var n={},r=L(e),i=0;i<r.length;i++){var a=r[i];n[a]=t(e[a],a,e,i)}return n}function he(e,t,n){var r,i,a={};try{for(var o=_(L(e)),u=o.next();!u.done;u=o.next()){var s=u.value,f=e[s];!n(f)||(a[s]=t(f,s,e))}}catch(l){r={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}var un=function(e){return function(t){var n,r,i=t;try{for(var a=_(e),o=a.next();!o.done;o=a.next()){var u=o.value;i=i[u]}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}};function fn(e,t){return function(n){var r,i,a=n;try{for(var o=_(e),u=o.next();!u.done;u=o.next()){var s=u.value;a=a[t][s]}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}}function bt(e){if(!e)return[[]];if(E(e))return[[e]];var t=D(L(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:bt(e[n]).map(function(i){return[n].concat(i)})}));return t}function D(e){var t;return(t=[]).concat.apply(t,R([],O(e),!1))}function de(e){return V(e)?e:[e]}function k(e){return e===void 0?[]:de(e)}function _t(e,t,n){var r,i;if(P(e))return e(t,n.data);var a={};try{for(var o=_(Object.keys(e)),u=o.next();!u.done;u=o.next()){var s=u.value,f=e[s];P(f)?a[s]=f(t,n.data):a[s]=f}}catch(l){r={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function cn(e){return/^(done|error)\./.test(e)}function ve(e){return!!(e instanceof Promise||e!==null&&(P(e)||typeof e=="object")&&P(e.then))}function ln(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function pe(e,t){var n,r,i=O([[],[]],2),a=i[0],o=i[1];try{for(var u=_(e),s=u.next();!s.done;s=u.next()){var f=s.value;t(f)?a.push(f):o.push(f)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return[a,o]}function ye(e,t){return st(e.states,function(n,r){if(!!n){var i=(E(t)?void 0:t[r])||(n?n.current:void 0);if(!!i)return{current:i,states:ye(n,i)}}})}function hn(e,t){return{current:t,states:ye(e,t)}}function ge(e,t,n,r){var i=e&&n.reduce(function(a,o){var u,s,f=o.assignment,l={state:r,action:o,_event:t},h={};if(P(f))h=f(a,t.data,l);else try{for(var c=_(L(f)),v=c.next();!v.done;v=c.next()){var y=v.value,m=f[y];h[y]=P(m)?m(a,t.data,l):m}}catch(g){u={error:g}}finally{try{v&&!v.done&&(s=c.return)&&s.call(c)}finally{if(u)throw u.error}}return Object.assign({},a,h)},e);return i}var ut=function(){};function V(e){return Array.isArray(e)}function P(e){return typeof e=="function"}function E(e){return typeof e=="string"}function me(e,t){if(!!e)return E(e)?{type:Ut,name:e,predicate:t?t[e]:void 0}:P(e)?{type:Ut,name:e.name,predicate:e}:e}function dn(e){try{return"subscribe"in e&&P(e.subscribe)}catch{return!1}}var vn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function G(e){try{return"__xstatenode"in e}catch{return!1}}function pn(e){return!!e&&typeof e.send=="function"}function qt(e,t){return E(e)||typeof e=="number"?d({type:e},t):e}function F(e,t){if(!E(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=qt(e);return d({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function K(e,t){var n=de(t).map(function(r){return typeof r=="undefined"||typeof r=="string"||G(r)?{target:r,event:e}:d(d({},r),{event:e})});return n}function yn(e){if(!(e===void 0||e===on))return k(e)}function xe(e,t,n,r,i){var a=e.options.guards,o={state:i,cond:t,_event:r};if(t.type===Ut)return((a==null?void 0:a[t.name])||t.predicate)(n,r.data,o);var u=a[t.type];if(!u)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return u(n,r.data,o)}function we(e){return typeof e=="string"?{type:e}:e}function Se(e,t,n){if(typeof e=="object")return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}var A;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(A||(A={}));var ft;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(ft||(ft={}));var Gt=A.Start,Xt=A.Stop,Et=A.Raise,Tt=A.Send,be=A.Cancel,gn=A.NullEvent,_e=A.Assign;A.After;A.DoneState;var Ee=A.Log,mn=A.Init,Yt=A.Invoke;A.ErrorExecution;var Te=A.ErrorPlatform,xn=A.ErrorCustom,Ne=A.Update,wn=A.Choose,Sn=A.Pure,Nt=F({type:mn});function Ht(e,t){return t&&t[e]||void 0}function ct(e,t){var n;if(E(e)||typeof e=="number"){var r=Ht(e,t);P(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(P(e))n={type:e.name||e.toString(),exec:e};else{var r=Ht(e.type,t);if(P(r))n=d(d({},e),{exec:r});else if(r){var i=r.type||e.type;n=d(d(d({},r),e),{type:i})}else n=e}return n}var Ot=function(e,t){if(!e)return[];var n=V(e)?e:[e];return n.map(function(r){return ct(r,t)})};function Wt(e){var t=ct(e);return d(d({id:E(e)?e:t.id},t),{type:t.type})}function bn(e){return E(e)?{type:Et,event:e}:Oe(e,{to:ft.Internal})}function _n(e){return{type:Et,_event:F(e.event)}}function Oe(e,t){return{to:t?t.to:void 0,type:Tt,event:P(e)?e:qt(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:P(e)?e.name:le(e)}}function En(e,t,n,r){var i={_event:n},a=F(P(e.event)?e.event(t,n.data,i):e.event),o;if(E(e.delay)){var u=r&&r[e.delay];o=P(u)?u(t,n.data,i):u}else o=P(e.delay)?e.delay(t,n.data,i):e.delay;var s=P(e.to)?e.to(t,n.data,i):e.to;return d(d({},e),{to:s,_event:a,event:a.data,delay:o})}var Tn=function(e,t,n){return d(d({},e),{value:E(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},Nn=function(e){return{type:be,sendId:e}};function On(e){var t=Wt(e);return{type:A.Start,activity:t,exec:void 0}}function Pn(e){var t=P(e)?e:Wt(e);return{type:A.Stop,activity:t,exec:void 0}}function An(e,t,n){var r=P(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,a={type:A.Stop,activity:i};return a}function jn(e,t){var n=t?"#".concat(t):"";return"".concat(A.After,"(").concat(e,")").concat(n)}function Pt(e,t){var n="".concat(A.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function At(e,t){var n="".concat(A.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function lt(e,t){var n="".concat(A.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Vt(e,t,n,r,i,a){a===void 0&&(a=!1);var o=O(a?[[],i]:pe(i,function(c){return c.type===_e}),2),u=o[0],s=o[1],f=u.length?ge(n,r,u,t):n,l=a?[n]:void 0,h=D(s.map(function(c){var v;switch(c.type){case Et:return _n(c);case Tt:var y=En(c,f,r,e.options.delays);return y;case Ee:return Tn(c,f,r);case wn:{var m=c,g=(v=m.conds.find(function(I){var M=me(I.cond,e.options.guards);return!M||xe(e,M,f,r,t)}))===null||v===void 0?void 0:v.actions;if(!g)return[];var b=O(Vt(e,t,f,r,Ot(k(g),e.options.actions),a),2),p=b[0],S=b[1];return f=S,l==null||l.push(f),p}case Sn:{var g=c.get(f,r.data);if(!g)return[];var j=O(Vt(e,t,f,r,Ot(k(g),e.options.actions),a),2),N=j[0],$=j[1];return f=$,l==null||l.push(f),N}case Xt:return An(c,f,r);case _e:{f=ge(f,r,[c],t),l==null||l.push(f);break}default:var w=ct(c,e.options.actions),x=w.exec;if(x&&l){var T=l.length-1;w=d(d({},w),{exec:function(I){for(var M=[],C=1;C<arguments.length;C++)M[C-1]=arguments[C];x.apply(void 0,R([l[T]],O(M),!1))}})}return w}}).filter(function(c){return!!c}));return[h,f]}var jt=function(e){return e.type==="atomic"||e.type==="final"};function Q(e){return L(e.states).map(function(t){return e.states[t]})}function Pe(e){var t=[e];return jt(e)?t:t.concat(D(Q(e).map(Pe)))}function Z(e,t){var n,r,i,a,o,u,s,f,l=new Set(e),h=Kt(l),c=new Set(t);try{for(var v=_(c),y=v.next();!y.done;y=v.next())for(var m=y.value,g=m.parent;g&&!c.has(g);)c.add(g),g=g.parent}catch(T){n={error:T}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}var b=Kt(c);try{for(var p=_(c),S=p.next();!S.done;S=p.next()){var m=S.value;if(m.type==="compound"&&(!b.get(m)||!b.get(m).length))h.get(m)?h.get(m).forEach(function(I){return c.add(I)}):m.initialStateNodes.forEach(function(I){return c.add(I)});else if(m.type==="parallel")try{for(var j=(o=void 0,_(Q(m))),N=j.next();!N.done;N=j.next()){var $=N.value;$.type!=="history"&&(c.has($)||(c.add($),h.get($)?h.get($).forEach(function(I){return c.add(I)}):$.initialStateNodes.forEach(function(I){return c.add(I)})))}}catch(I){o={error:I}}finally{try{N&&!N.done&&(u=j.return)&&u.call(j)}finally{if(o)throw o.error}}}}catch(T){i={error:T}}finally{try{S&&!S.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}try{for(var w=_(c),x=w.next();!x.done;x=w.next())for(var m=x.value,g=m.parent;g&&!c.has(g);)c.add(g),g=g.parent}catch(T){s={error:T}}finally{try{x&&!x.done&&(f=w.return)&&f.call(w)}finally{if(s)throw s.error}}return c}function Ae(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(jt(r))return r.key}else return{}}var i={};return n.forEach(function(a){i[a.key]=Ae(a,t)}),i}function Kt(e){var t,n,r=new Map;try{for(var i=_(e),a=i.next();!a.done;a=i.next()){var o=a.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ln(e,t){var n=Z([e],t);return Ae(e,Kt(n))}function Lt(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function Dn(e){return R([],O(new Set(D(R([],O(e.map(function(t){return t.ownEvents})),!1)))),!1)}function ht(e,t){return t.type==="compound"?Q(t).some(function(n){return n.type==="final"&&Lt(e,n)}):t.type==="parallel"?Q(t).every(function(n){return ht(e,n)}):!1}function In(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function je(e){return new Set(D(e.map(function(t){return t.tags})))}function Le(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(E(e)||E(t))return e===t;var n=L(e),r=L(t);return n.length===r.length&&n.every(function(i){return Le(e[i],t[i])})}function $n(e){return E(e)?!1:"value"in e&&"history"in e}function Rn(e,t){var n=e.exec,r=d(d({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var X=function(){function e(t){var n=this,r;this.actions=[],this.activities=ce,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||ce,this.meta=In(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Dn(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=Nt;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Nt;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),E(t))return[t];var i=L(t);return i.concat.apply(i,R([],O(i.map(function(a){return r.toStrings(t[a],n).map(function(o){return a+n+o})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=zt(t,["configuration","transitions","tags","machine"]);return d(d({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return kt(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;return ut(!!this.machine),!!((n=this.machine)===null||n===void 0?void 0:n.transition(this,t).changed)},e}(),dt=function(e,t){var n=t(e);return n};function De(e){return{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}}}function Mn(e,t,n,r){var i,a=we(e.src),o=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[a.type],u=e.data?_t(e.data,n,r):void 0,s=o?Cn(o,e.id,u):De(e.id);return s.meta=e,s}function Cn(e,t,n){var r=De(t);if(r.deferred=!0,G(e)){var i=r.state=dt(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function Fn(e){try{return typeof e.send=="function"}catch{return!1}}function Bn(e){return Fn(e)&&"id"in e}function zn(e){return d({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e)}function Un(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Dt(e){return d(d({type:Yt},e),{toJSON:function(){e.onDone,e.onError;var t=zt(e,["onDone","onError"]);return d(d({},t),{type:Yt,src:Un(e.src)})}})}var tt="",Qt="#",vt="*",et={},nt=function(e){return e[0]===Qt},kn=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Jn=function(e,t,n){var r=n.slice(0,-1).some(function(a){return!("cond"in a)&&!("in"in a)&&(E(a.target)||G(a.target))}),i=t===tt?"the transient event":"event '".concat(t,"'");ut(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},qn=function(){function e(t,n,r){var i=this;r===void 0&&(r="context"in t?t.context:void 0);var a;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(kn(),n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:fe),this.id=this.config.id||R([this.machine.key],O(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&L(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(a=this.config.schema)!==null&&a!==void 0?a:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?st(this.config.states,function(s,f){var l,h=new e(s,{_parent:i,_key:f});return Object.assign(i.idMap,d((l={},l[h.id]=h,l),h.idMap)),h}):et;var o=0;function u(s){var f,l;s.order=o++;try{for(var h=_(Q(s)),c=h.next();!c.done;c=h.next()){var v=c.value;u(v)}}catch(y){f={error:y}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(s){var f=s.event;return f===tt}):tt in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=k(this.config.entry||this.config.onEntry).map(function(s){return ct(s)}),this.onExit=k(this.config.exit||this.config.onExit).map(function(s){return ct(s)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=k(this.config.invoke).map(function(s,f){var l,h;if(G(s))return i.machine.options.services=d((l={},l[s.id]=s,l),i.machine.options.services),Dt({src:s.id,id:s.id});if(E(s.src))return Dt(d(d({},s),{id:s.id||s.src,src:s.src}));if(G(s.src)||P(s.src)){var c="".concat(i.id,":invocation[").concat(f,"]");return i.machine.options.services=d((h={},h[c]=s.src,h),i.machine.options.services),Dt(d(d({id:c},s),{src:c}))}else{var v=s.src;return Dt(d(d({id:v.type},s),{src:v}))}}),this.activities=k(this.config.activities).concat(this.invoke).map(function(s){return Wt(s)}),this.transition=this.transition.bind(this),this.tags=k(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Pe(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,a=r.activities,o=r.guards,u=r.services,s=r.delays;return new e(this.config,{actions:d(d({},i),t.actions),activities:d(d({},a),t.activities),guards:d(d({},o),t.guards),services:d(d({},u),t.services),delays:d(d({},s),t.delays)},n!=null?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return P(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:st(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===tt,r=this.transitions.filter(function(i){var a=i.eventType===t;return n?a:a||i.eventType===vt});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(a,o){var u=P(a)?"".concat(t.id,":delay[").concat(o,"]"):a,s=jn(u,t.id);return t.onEntry.push(Oe(s,{delay:a})),t.onExit.push(Nn(s)),s},i=V(n)?n.map(function(a,o){var u=r(a.delay,o);return d(d({},a),{event:u})}):D(L(n).map(function(a,o){var u=n[a],s=E(u)?{target:u}:u,f=isNaN(+a)?a:+a,l=r(f,o);return k(s).map(function(h){return d(d({},h),{event:l,delay:f})})}));return i.map(function(a){var o=a.delay;return d(d({},t.formatTransition(a)),{delay:o})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof X?t.value:ot(t,this.delimiter);if(E(i)){var a=this.getStateNode(i).initial;return a!==void 0?this.getStateNodes((n={},n[i]=a,n)):[this,this.states[i]]}var o=L(i),u=o.map(function(s){return r.getStateNode(s)});return u.push(this),u.concat(o.reduce(function(s,f){var l=r.getStateNode(f).getStateNodes(i[f]);return s.concat(l)},[]))},e.prototype.handles=function(t){var n=le(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=Array.from(Z([],this.getStateNodes(t.value)));return new X(d(d({},t),{value:this.resolve(t.value),configuration:n,done:ht(n,this),tags:je(n)}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),a=i.next(n,r);return!a||!a.transitions.length?this.next(n,r):a},e.prototype.transitionCompoundNode=function(t,n,r){var i=L(t),a=this.getStateNode(i[0]),o=a._transition(t[i[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},e.prototype.transitionParallelNode=function(t,n,r){var i,a,o={};try{for(var u=_(L(t)),s=u.next();!s.done;s=u.next()){var f=s.value,l=t[f];if(!!l){var h=this.getStateNode(f),c=h._transition(l,n,r);c&&(o[f]=c)}}}catch(p){i={error:p}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var v=L(o).map(function(p){return o[p]}),y=D(v.map(function(p){return p.transitions})),m=v.some(function(p){return p.transitions.length>0});if(!m)return this.next(n,r);var g=D(v.map(function(p){return p.entrySet})),b=D(L(o).map(function(p){return o[p].configuration}));return{transitions:y,entrySet:g,exitSet:D(v.map(function(p){return p.exitSet})),configuration:b,source:n,actions:D(L(o).map(function(p){return o[p].actions}))}},e.prototype._transition=function(t,n,r){return E(t)?this.transitionLeafNode(t,n,r):L(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.next=function(t,n){var r,i,a=this,o=n.name,u=[],s=[],f;try{for(var l=_(this.getCandidates(o)),h=l.next();!h.done;h=l.next()){var c=h.value,v=c.cond,y=c.in,m=t.context,g=y?E(y)&&nt(y)?t.matches(ot(this.getStateNodeById(y).path,this.delimiter)):kt(ot(y,this.delimiter),un(this.path.slice(0,-2))(t.value)):!0,b=!1;try{b=!v||xe(this.machine,v,m,n,t)}catch(N){throw new Error("Unable to evaluate guard '".concat(v.name||v.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(N.message))}if(b&&g){c.target!==void 0&&(s=c.target),u.push.apply(u,R([],O(c.actions),!1)),f=c;break}}}catch(N){r={error:N}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}if(!!f){if(!s.length)return{transitions:[f],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:u};var p=D(s.map(function(N){return a.getRelativeStateNodes(N,t.historyValue)})),S=!!f.internal,j=S?[]:D(p.map(function(N){return a.nodesFromChild(N)}));return{transitions:[f],entrySet:j,exitSet:S?[]:[this],configuration:p,source:t,actions:u}}},e.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var n=[],r=t;r&&r!==this;)n.push(r),r=r.parent;return n.push(this),n},e.prototype.escapes=function(t){if(this===t)return!1;for(var n=this.parent;n;){if(n===t)return!1;n=n.parent}return!0},e.prototype.getActions=function(t,n,r,i){var a,o,u,s,f=Z([],i?this.getStateNodes(i.value):[this]),l=t.configuration.length?Z(f,t.configuration):f;try{for(var h=_(l),c=h.next();!c.done;c=h.next()){var v=c.value;Lt(f,v)||t.entrySet.push(v)}}catch(w){a={error:w}}finally{try{c&&!c.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}try{for(var y=_(f),m=y.next();!m.done;m=y.next()){var v=m.value;(!Lt(l,v)||Lt(t.exitSet,v.parent))&&t.exitSet.push(v)}}catch(w){u={error:w}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(u)throw u.error}}t.source||(t.exitSet=[],t.entrySet.push(this));var g=D(t.entrySet.map(function(w){var x=[];if(w.type!=="final")return x;var T=w.parent;if(!T.parent)return x;x.push(Pt(w.id,w.doneData),Pt(T.id,w.doneData?_t(w.doneData,n,r):void 0));var I=T.parent;return I.type==="parallel"&&Q(I).every(function(M){return ht(t.configuration,M)})&&x.push(Pt(I.id)),x}));t.exitSet.sort(function(w,x){return x.order-w.order}),t.entrySet.sort(function(w,x){return w.order-x.order});var b=new Set(t.entrySet),p=new Set(t.exitSet),S=O([D(Array.from(b).map(function(w){return R(R([],O(w.activities.map(function(x){return On(x)})),!1),O(w.onEntry),!1)})).concat(g.map(bn)),D(Array.from(p).map(function(w){return R(R([],O(w.onExit),!1),O(w.activities.map(function(x){return Pn(x)})),!1)}))],2),j=S[0],N=S[1],$=Ot(N.concat(t.actions).concat(j),this.machine.options.actions);return $},e.prototype.transition=function(t,n,r){t===void 0&&(t=this.initialState);var i=F(n),a;if(t instanceof X)a=r===void 0?t:this.resolveState(X.from(t,r));else{var o=E(t)?this.resolve(St(this.getResolvedPath(t))):this.resolve(t),u=r!=null?r:this.machine.context;a=this.resolveState(X.from(o,u))}if(!at&&i.name===vt)throw new Error("An event cannot have the wildcard type ('".concat(vt,"')"));if(this.strict&&!this.events.includes(i.name)&&!cn(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var s=this._transition(a.value,a,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:a,actions:[]},f=Z([],this.getStateNodes(a.value)),l=s.configuration.length?Z(f,s.configuration):f;return s.configuration=R([],O(l),!1),this.resolveTransition(s,a,i)},e.prototype.resolveRaisedTransition=function(t,n,r){var i,a=t.actions;return t=this.transition(t,n),t._event=r,t.event=r.data,(i=t.actions).unshift.apply(i,R([],O(a),!1)),t},e.prototype.resolveTransition=function(t,n,r,i){var a,o,u=this;r===void 0&&(r=Nt),i===void 0&&(i=this.machine.context);var s=t.configuration,f=!n||t.transitions.length>0,l=f?Ln(this.machine,s):void 0,h=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,c=n?n.context:i,v=this.getActions(t,c,r,n),y=n?d({},n.activities):{};try{for(var m=_(v),g=m.next();!g.done;g=m.next()){var b=g.value;b.type===Gt?y[b.activity.id||b.activity.type]=b:b.type===Xt&&(y[b.activity.id||b.activity.type]=!1)}}catch(z){a={error:z}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}var p=O(Vt(this,n,c,r,v,this.machine.config.preserveActionOrder),2),S=p[0],j=p[1],N=O(pe(S,function(z){return z.type===Et||z.type===Tt&&z.to===ft.Internal}),2),$=N[0],w=N[1],x=S.filter(function(z){var Y;return z.type===Gt&&((Y=z.activity)===null||Y===void 0?void 0:Y.type)===Yt}),T=x.reduce(function(z,Y){return z[Y.activity.id]=Mn(Y.activity,u.machine,j,r),z},n?d({},n.children):{}),I=l?t.configuration:n?n.configuration:[],M=ht(I,this),C=new X({value:l||n.value,context:j,_event:r,_sessionid:n?n._sessionid:null,historyValue:l?h?hn(h,l):void 0:n?n.historyValue:void 0,history:!l||t.source?n:void 0,actions:l?w:[],activities:l?y:n?n.activities:{},events:[],configuration:I,transitions:t.transitions,children:T,done:M,tags:n==null?void 0:n.tags,machine:this}),pt=c!==j;C.changed=r.name===Ne||pt;var J=C.history;J&&delete J.history;var ee=!M&&(this._transient||s.some(function(z){return z._transient}));if(!f&&(!ee||r.name===tt))return C;var B=C;if(!M)for(ee&&(B=this.resolveRaisedTransition(B,{type:gn},r));$.length;){var $e=$.shift();B=this.resolveRaisedTransition(B,$e._event,r)}var Re=B.changed||(J?!!B.actions.length||pt||typeof J.value!=typeof B.value||!Le(B.value,J.value):void 0);return B.changed=Re,B.history=J,B.tags=je(B.configuration),B},e.prototype.getStateNode=function(t){if(nt(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=nt(t)?t.slice(Qt.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&nt(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=Jt(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||et;switch(this.type){case"parallel":return st(this.initialStateValue,function(a,o){return a?r.getStateNode(o).resolve(t[o]||a):et});case"compound":if(E(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return L(t).length?st(t,function(a,o){return a?r.getStateNode(o).resolve(a):et}):this.initialStateValue||{};default:return t||et}},e.prototype.getResolvedPath=function(t){if(nt(t)){var n=this.machine.idMap[t.slice(Qt.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return Jt(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=he(this.states,function(r){return r.initialStateValue||et},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=jt(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,n)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;E(n.target)?t=nt(n.target)?St(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(jt(this))return[this];if(this.type==="compound"&&!this.initial)return at||ut(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var n=bt(this.initialStateValue);return D(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=O(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var a=this.getStateNode(r);if(a.type==="history")return a.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(!!L(this.states).length)return{current:t||this.initialStateValue,states:he(this.states,function(n,r){if(!t)return n.historyValue();var i=E(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?D(bt(i).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var a=fn(r.path,"states")(t).current;return E(a)?[r.getStateNode(a)]:D(bt(a).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=D(L(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var a=this.states,o=new Set(this.ownEvents);if(a)try{for(var u=_(L(a)),s=u.next();!s.done;s=u.next()){var f=s.value,l=a[f];if(l.states)try{for(var h=(r=void 0,_(l.events)),c=h.next();!c.done;c=h.next()){var v=c.value;o.add("".concat(v))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(y){t={error:y}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!E(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var a=i?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(a);return o}catch(u){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(u.message))}else return n.getStateNodeByPath(a)})},e.prototype.formatTransition=function(t){var n=this,r=yn(t.target),i="internal"in t?t.internal:r?r.some(function(s){return E(s)&&s[0]===n.delimiter}):!0,a=this.machine.options.guards,o=this.resolveTarget(r),u=d(d({},t),{actions:Ot(k(t.actions)),cond:me(t.cond,a),target:o,source:this,internal:i,eventType:t.event,toJSON:function(){return d(d({},u),{target:u.target?u.target.map(function(s){return"#".concat(s.id)}):void 0,source:"#".concat(n.id)})}});return u},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var a=this.config.on,o=vt,u=a[o],s=u===void 0?[]:u,f=zt(a,[typeof o=="symbol"?o:o+""]);i=D(L(f).map(function(p){!at&&p===tt&&ut(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var S=K(p,f[p]);return at||Jn(r,p,S),S}).concat(K(vt,s)))}var l=this.config.always?K("",this.config.always):[],h=this.config.onDone?K(String(Pt(this.id)),this.config.onDone):[];at||ut(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var c=D(this.invoke.map(function(p){var S=[];return p.onDone&&S.push.apply(S,R([],O(K(String(At(p.id)),p.onDone)),!1)),p.onError&&S.push.apply(S,R([],O(K(String(lt(p.id)),p.onError)),!1)),S})),v=this.after,y=D(R(R(R(R([],O(h),!1),O(c),!1),O(i),!1),O(l),!1).map(function(p){return k(p).map(function(S){return r.formatTransition(S)})}));try{for(var m=_(v),g=m.next();!g.done;g=m.next()){var b=g.value;y.push(b)}}catch(p){t={error:p}}finally{try{g&&!g.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}return y},e}();function Tr(e,t){return new qn(e,t)}var Gn={deferEvents:!1},Ie=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=d(d({},Gn),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),Zt=new Map,Xn=0,It={bookId:function(){return"x:".concat(Xn++)},register:function(e,t){return Zt.set(e,t),e},get:function(e){return Zt.get(e)},free:function(e){Zt.delete(e)}};function te(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function Yn(){var e=te();if(e&&"__xstate__"in e)return e.__xstate__}function Hn(e){if(!!te()){var t=Yn();t&&t.register(e)}}function Wn(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],a=!1,o=function(){if(!a){for(a=!0;i.length>0;){var f=i.shift();n=e.transition(n,f,s),r.forEach(function(l){return l.next(n)})}a=!1}},u=zn({id:t.id,send:function(f){i.push(f),o()},getSnapshot:function(){return n},subscribe:function(f,l,h){var c=Se(f,l,h);return r.add(c),c.next(n),{unsubscribe:function(){r.delete(c)}}}}),s={parent:t.parent,self:u,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,u}var Vn={sync:!1,autoForward:!1},U;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(U||(U={}));var Kn=function(){function e(t,n){var r=this;n===void 0&&(n=e.defaultOptions),this.machine=t,this.scheduler=new Ie,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=U.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(l,h){if(V(l))return r.batch(l),r.state;var c=F(qt(l,h));if(r.status===U.Stopped)return r.state;if(r.status!==U.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(c.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(c.data)));return r.scheduler.schedule(function(){r.forward(c);var v=r.nextState(c);r.update(v,c)}),r._state},this.sendTo=function(l,h){var c=r.parent&&(h===ft.Parent||r.parent.id===h),v=c?r.parent:E(h)?r.children.get(h)||It.get(h):pn(h)?h:void 0;if(!v){if(!c)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(r.id,"'."));return}"machine"in v?v.send(d(d({},l),{name:l.name===xn?"".concat(lt(r.id)):l.name,origin:r.sessionId})):v.send(l.data)};var i=d(d({},e.defaultOptions),n),a=i.clock,o=i.logger,u=i.parent,s=i.id,f=s!==void 0?s:t.id;this.id=f,this.logger=o,this.clock=a,this.parent=u,this.options=i,this.scheduler=new Ie({deferEvents:this.options.deferEvents}),this.sessionId=It.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:dt(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var a=_(t.actions),o=a.next();!o.done;o=a.next()){var u=o.value;this.exec(u,t,n)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,a,o,u,s,f,l,h=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach(function(T){h.state.children[T.id]=T}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var c=_(this.eventListeners),v=c.next();!v.done;v=c.next()){var y=v.value;y(t.event)}}catch(T){r={error:T}}finally{try{v&&!v.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}try{for(var m=_(this.listeners),g=m.next();!g.done;g=m.next()){var y=g.value;y(t,t.event)}}catch(T){a={error:T}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}try{for(var b=_(this.contextListeners),p=b.next();!p.done;p=b.next()){var S=p.value;S(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(T){u={error:T}}finally{try{p&&!p.done&&(s=b.return)&&s.call(b)}finally{if(u)throw u.error}}var j=ht(t.configuration||[],this.machine);if(this.state.configuration&&j){var N=t.configuration.find(function(T){return T.type==="final"&&T.parent===h.machine}),$=N&&N.doneData?_t(N.doneData,t.context,n):void 0;try{for(var w=_(this.doneListeners),x=w.next();!x.done;x=w.next()){var y=x.value;y(At(this.id,$))}}catch(T){f={error:T}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(f)throw f.error}}this.stop()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===U.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this;if(!t)return{unsubscribe:function(){}};var a,o=r;return typeof t=="function"?a=t:(a=t.next.bind(t),o=t.complete.bind(t)),this.listeners.add(a),this.status===U.Running&&a(this.state),o&&this.onDone(o),{unsubscribe:function(){a&&i.listeners.delete(a),o&&i.doneListeners.delete(o)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===U.Running)return this;It.register(this.sessionId,this),this.initialized=!0,this.status=U.Running;var r=t===void 0?this.initialState:dt(this,function(){return $n(t)?n.machine.resolveState(t):n.machine.resolveState(X.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Nt)}),this},e.prototype.stop=function(){var t,n,r,i,a,o,u,s,f,l,h=this;try{for(var c=_(this.listeners),v=c.next();!v.done;v=c.next()){var y=v.value;this.listeners.delete(y)}}catch(x){t={error:x}}finally{try{v&&!v.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}try{for(var m=_(this.stopListeners),g=m.next();!g.done;g=m.next()){var y=g.value;y(),this.stopListeners.delete(y)}}catch(x){r={error:x}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var b=_(this.contextListeners),p=b.next();!p.done;p=b.next()){var y=p.value;this.contextListeners.delete(y)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}try{for(var S=_(this.doneListeners),j=S.next();!j.done;j=S.next()){var y=j.value;this.doneListeners.delete(y)}}catch(x){u={error:x}}finally{try{j&&!j.done&&(s=S.return)&&s.call(S)}finally{if(u)throw u.error}}if(!this.initialized)return this;this.state.configuration.forEach(function(x){var T,I;try{for(var M=_(x.definition.exit),C=M.next();!C.done;C=M.next()){var pt=C.value;h.exec(pt,h.state)}}catch(J){T={error:J}}finally{try{C&&!C.done&&(I=M.return)&&I.call(M)}finally{if(T)throw T.error}}}),this.children.forEach(function(x){P(x.stop)&&x.stop()});try{for(var N=_(L(this.delayedEventsMap)),$=N.next();!$.done;$=N.next()){var w=$.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(x){f={error:x}}finally{try{$&&!$.done&&(l=N.return)&&l.call(N)}finally{if(f)throw f.error}}return this.scheduler.clear(),this.initialized=!1,this.status=U.Stopped,It.free(this.sessionId),this},e.prototype.batch=function(t){var n=this;if(!(this.status===U.NotStarted&&this.options.deferEvents)){if(this.status!==U.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}this.scheduler.schedule(function(){var r,i,a=n.state,o=!1,u=[],s=function(c){var v=F(c);n.forward(v),a=dt(n,function(){return n.machine.transition(a,v)}),u.push.apply(u,R([],O(a.actions.map(function(y){return Rn(y,a)})),!1)),o=o||!!a.changed};try{for(var f=_(t),l=f.next();!l.done;l=f.next()){var h=l.value;s(h)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}a.changed=o,a.actions=u,n.update(a,F(t[t.length-1]))})},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype.nextState=function(t){var n=this,r=F(t);if(r.name.indexOf(Te)===0&&!this.state.nextEvents.some(function(a){return a.indexOf(Te)===0}))throw r.data.data;var i=dt(this,function(){return n.machine.transition(n.state,r)});return i},e.prototype.forward=function(t){var n,r;try{for(var i=_(this.forwardTo),a=i.next();!a.done;a=i.next()){var o=a.value,u=this.children.get(o);if(!u)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));u.send(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?n.sendTo(t._event,t.to):n.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions);var i=n.context,a=n._event,o=t.exec||Ht(t.type,r),u=P(o)?o:o?o.exec:t.exec;if(u)try{return u(i,a.data,{action:t,state:this.state,_event:a})}catch(j){throw this.parent&&this.parent.send({type:"xstate.error",data:j}),j}switch(t.type){case Tt:var s=t;if(typeof s.delay=="number"){this.defer(s);return}else s.to?this.sendTo(s._event,s.to):this.send(s._event);break;case be:this.cancel(t.sendId);break;case Gt:{var f=t.activity;if(!this.state.activities[f.id||f.type])break;if(f.type===A.Invoke){var l=we(f.src),h=this.machine.options.services?this.machine.options.services[l.type]:void 0,c=f.id,v=f.data,y="autoForward"in f?f.autoForward:!!f.forward;if(!h)return;var m=v?_t(v,i,a):void 0;if(typeof h=="string")return;var g=P(h)?h(i,a.data,{data:m,src:l,meta:f.meta}):h;if(!g)return;var b=void 0;G(g)&&(g=m?g.withContext(m):g,b={autoForward:y}),this.spawn(g,c,b)}else this.spawnActivity(f);break}case Xt:{this.stopChild(t.activity.id);break}case Ee:var p=t.label,S=t.value;p?this.logger(p,S):this.logger(S);break}},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);!n||(this.removeChild(t),P(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(ve(t))return this.spawnPromise(Promise.resolve(t),n);if(P(t))return this.spawnCallback(t,n);if(Bn(t))return this.spawnActor(t,n);if(dn(t))return this.spawnObservable(t,n);if(G(t))return this.spawnMachine(t,d(d({},r),{id:n}));if(ln(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,d(d({},this.options),{parent:this,id:n.id||t.id})),a=d(d({},Vn),n);a.sync&&i.onTransition(function(u){r.send(Ne,{state:u,id:i.id})});var o=i;return this.children.set(i.id,o),a.autoForward&&this.forwardTo.add(i.id),i.onDone(function(u){r.removeChild(i.id),r.send(F(u,{origin:i.id}))}).start(),o},e.prototype.spawnBehavior=function(t,n){var r=Wn(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r=this,i=!1,a;t.then(function(u){i||(a=u,r.removeChild(n),r.send(F(At(n,u),{origin:n})))},function(u){if(!i){r.removeChild(n);var s=lt(n,u);try{r.send(F(s,{origin:n}))}catch{r.devTools&&r.devTools.send(s,r.state),r.machine.strict&&r.stop()}}});var o={id:n,send:function(){},subscribe:function(u,s,f){var l=Se(u,s,f),h=!1;return t.then(function(c){h||(l.next(c),!h&&l.complete())},function(c){h||l.error(c)}),{unsubscribe:function(){return h=!0}}},stop:function(){i=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return a}};return this.children.set(n,o),o},e.prototype.spawnCallback=function(t,n){var r=this,i=!1,a=new Set,o=new Set,u,s=function(h){u=h,o.forEach(function(c){return c(h)}),!i&&r.send(F(h,{origin:n}))},f;try{f=t(s,function(h){a.add(h)})}catch(h){this.send(lt(n,h))}if(ve(f))return this.spawnPromise(f,n);var l={id:n,send:function(h){return a.forEach(function(c){return c(h)})},subscribe:function(h){return o.add(h),{unsubscribe:function(){o.delete(h)}}},stop:function(){i=!0,P(f)&&f()},toJSON:function(){return{id:n}},getSnapshot:function(){return u}};return this.children.set(n,l),l},e.prototype.spawnObservable=function(t,n){var r=this,i,a=t.subscribe(function(u){i=u,r.send(F(u,{origin:n}))},function(u){r.removeChild(n),r.send(F(lt(n,u),{origin:n}))},function(){r.removeChild(n),r.send(F(At(n),{origin:n}))}),o={id:n,send:function(){},subscribe:function(u,s,f){return t.subscribe(u,s,f)},stop:function(){return a.unsubscribe()},getSnapshot:function(){return i},toJSON:function(){return{id:n}}};return this.children.set(n,o),o},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!!n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){this.children.set(t,{id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}})},e.prototype.attachDev=function(){var t=te();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(d(d({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:d({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}Hn(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[vn]=function(){return this},e.prototype.getSnapshot=function(){return this.status===U.NotStarted?this.initialState:this._state},e.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(n,r){return setTimeout(n,r)},clearTimeout:function(n){return clearTimeout(n)}},logger:t.console.log.bind(console),devTools:!1}}(typeof self!="undefined"?self:global),e.interpret=Qn,e}();function Qn(e,t){var n=new Kn(e,t);return n}export{hr as A,Me as B,Er as C,tr as D,nr as E,rr as F,er as G,Ge as H,H as I,Tr as J,Qn as K,sr as L,rt as M,Zn as N,_r as S,He as a,ur as b,fr as c,Xe as d,Ye as e,ir as f,Ke as g,lr as h,br as i,wr as j,ar as k,or as l,Sr as m,cr as n,nn as o,mr as p,xr as q,pr as r,Fe as s,$t as t,gr as u,rn as v,yr as w,en as x,vr as y,dr as z};
